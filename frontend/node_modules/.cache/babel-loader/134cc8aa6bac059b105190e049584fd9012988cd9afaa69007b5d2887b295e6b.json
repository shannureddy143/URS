{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const TrackingMap=_ref=>{let{rental}=_ref;const mapRef=useRef(null);const mapInstance=useRef(null);const markerRef=useRef(null);useEffect(()=>{var _rental$umbrella;if(!window.google||!mapRef.current||!(rental!==null&&rental!==void 0&&(_rental$umbrella=rental.umbrella)!==null&&_rental$umbrella!==void 0&&_rental$umbrella.location))return;const{latitude,longitude}=rental.umbrella.location;// Initialize map\nmapInstance.current=new window.google.maps.Map(mapRef.current,{center:{lat:parseFloat(latitude),lng:parseFloat(longitude)},zoom:18,mapTypeId:'hybrid'});// Add umbrella marker\nmarkerRef.current=new window.google.maps.Marker({position:{lat:parseFloat(latitude),lng:parseFloat(longitude)},map:mapInstance.current,title:\"\".concat(rental.umbrella.umbrellaId,\" - \").concat(rental.umbrella.location.address),icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:15,fillColor:rental.unlocked?'#10B981':'#F59E0B',fillOpacity:0.8,strokeColor:'#FFFFFF',strokeWeight:3}});// Add info window\nconst infoWindow=new window.google.maps.InfoWindow({content:\"\\n        <div style=\\\"padding: 8px; min-width: 200px;\\\">\\n          <h3 style=\\\"margin: 0 0 8px 0; color: #1F2937;\\\">\".concat(rental.umbrella.umbrellaId,\"</h3>\\n          <p style=\\\"margin: 0 0 4px 0; color: #6B7280;\\\">\\n            <strong>Status:</strong> \").concat(rental.unlocked?'ðŸ”“ Unlocked':'ðŸ”’ Locked',\"\\n          </p>\\n          <p style=\\\"margin: 0 0 4px 0; color: #6B7280;\\\">\\n            <strong>Color:</strong> \").concat(rental.umbrella.color,\"\\n          </p>\\n          <p style=\\\"margin: 0; color: #6B7280;\\\">\\n            <strong>Location:</strong> \").concat(rental.umbrella.location.address,\"\\n          </p>\\n        </div>\\n      \")});markerRef.current.addListener('click',()=>{infoWindow.open(mapInstance.current,markerRef.current);});// Add campus boundary\nnew window.google.maps.Rectangle({bounds:{north:30.7600,south:30.7550,east:76.5690,west:76.5630},strokeColor:'#10B981',strokeOpacity:0.8,strokeWeight:2,fillColor:'#10B981',fillOpacity:0.1,map:mapInstance.current});return()=>{if(markerRef.current){markerRef.current.setMap(null);}};},[rental]);return/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{width:'100%',height:'300px',borderRadius:'8px',border:'1px solid #E5E7EB'}});};export default TrackingMap;","map":{"version":3,"names":["React","useEffect","useRef","jsx","_jsx","TrackingMap","_ref","rental","mapRef","mapInstance","markerRef","_rental$umbrella","window","google","current","umbrella","location","latitude","longitude","maps","Map","center","lat","parseFloat","lng","zoom","mapTypeId","Marker","position","map","title","concat","umbrellaId","address","icon","path","SymbolPath","CIRCLE","scale","fillColor","unlocked","fillOpacity","strokeColor","strokeWeight","infoWindow","InfoWindow","content","color","addListener","open","Rectangle","bounds","north","south","east","west","strokeOpacity","setMap","ref","style","width","height","borderRadius","border"],"sources":["D:/CODING/URS/frontend/src/components/TrackingMap.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\n\nconst TrackingMap = ({ rental }) => {\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const markerRef = useRef(null);\n\n  useEffect(() => {\n    if (!window.google || !mapRef.current || !rental?.umbrella?.location) return;\n\n    const { latitude, longitude } = rental.umbrella.location;\n\n    // Initialize map\n    mapInstance.current = new window.google.maps.Map(mapRef.current, {\n      center: { lat: parseFloat(latitude), lng: parseFloat(longitude) },\n      zoom: 18,\n      mapTypeId: 'hybrid'\n    });\n\n    // Add umbrella marker\n    markerRef.current = new window.google.maps.Marker({\n      position: { lat: parseFloat(latitude), lng: parseFloat(longitude) },\n      map: mapInstance.current,\n      title: `${rental.umbrella.umbrellaId} - ${rental.umbrella.location.address}`,\n      icon: {\n        path: window.google.maps.SymbolPath.CIRCLE,\n        scale: 15,\n        fillColor: rental.unlocked ? '#10B981' : '#F59E0B',\n        fillOpacity: 0.8,\n        strokeColor: '#FFFFFF',\n        strokeWeight: 3\n      }\n    });\n\n    // Add info window\n    const infoWindow = new window.google.maps.InfoWindow({\n      content: `\n        <div style=\"padding: 8px; min-width: 200px;\">\n          <h3 style=\"margin: 0 0 8px 0; color: #1F2937;\">${rental.umbrella.umbrellaId}</h3>\n          <p style=\"margin: 0 0 4px 0; color: #6B7280;\">\n            <strong>Status:</strong> ${rental.unlocked ? 'ðŸ”“ Unlocked' : 'ðŸ”’ Locked'}\n          </p>\n          <p style=\"margin: 0 0 4px 0; color: #6B7280;\">\n            <strong>Color:</strong> ${rental.umbrella.color}\n          </p>\n          <p style=\"margin: 0; color: #6B7280;\">\n            <strong>Location:</strong> ${rental.umbrella.location.address}\n          </p>\n        </div>\n      `\n    });\n\n    markerRef.current.addListener('click', () => {\n      infoWindow.open(mapInstance.current, markerRef.current);\n    });\n\n    // Add campus boundary\n    new window.google.maps.Rectangle({\n      bounds: {\n        north: 30.7600,\n        south: 30.7550,\n        east: 76.5690,\n        west: 76.5630\n      },\n      strokeColor: '#10B981',\n      strokeOpacity: 0.8,\n      strokeWeight: 2,\n      fillColor: '#10B981',\n      fillOpacity: 0.1,\n      map: mapInstance.current\n    });\n\n    return () => {\n      if (markerRef.current) {\n        markerRef.current.setMap(null);\n      }\n    };\n  }, [rental]);\n\n  return (\n    <div \n      ref={mapRef} \n      style={{ \n        width: '100%', \n        height: '300px', \n        borderRadius: '8px',\n        border: '1px solid #E5E7EB'\n      }} \n    />\n  );\n};\n\nexport default TrackingMap;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjD,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CAC7B,KAAM,CAAAE,MAAM,CAAGN,MAAM,CAAC,IAAI,CAAC,CAC3B,KAAM,CAAAO,WAAW,CAAGP,MAAM,CAAC,IAAI,CAAC,CAChC,KAAM,CAAAQ,SAAS,CAAGR,MAAM,CAAC,IAAI,CAAC,CAE9BD,SAAS,CAAC,IAAM,KAAAU,gBAAA,CACd,GAAI,CAACC,MAAM,CAACC,MAAM,EAAI,CAACL,MAAM,CAACM,OAAO,EAAI,EAACP,MAAM,SAANA,MAAM,YAAAI,gBAAA,CAANJ,MAAM,CAAEQ,QAAQ,UAAAJ,gBAAA,WAAhBA,gBAAA,CAAkBK,QAAQ,EAAE,OAEtE,KAAM,CAAEC,QAAQ,CAAEC,SAAU,CAAC,CAAGX,MAAM,CAACQ,QAAQ,CAACC,QAAQ,CAExD;AACAP,WAAW,CAACK,OAAO,CAAG,GAAI,CAAAF,MAAM,CAACC,MAAM,CAACM,IAAI,CAACC,GAAG,CAACZ,MAAM,CAACM,OAAO,CAAE,CAC/DO,MAAM,CAAE,CAAEC,GAAG,CAAEC,UAAU,CAACN,QAAQ,CAAC,CAAEO,GAAG,CAAED,UAAU,CAACL,SAAS,CAAE,CAAC,CACjEO,IAAI,CAAE,EAAE,CACRC,SAAS,CAAE,QACb,CAAC,CAAC,CAEF;AACAhB,SAAS,CAACI,OAAO,CAAG,GAAI,CAAAF,MAAM,CAACC,MAAM,CAACM,IAAI,CAACQ,MAAM,CAAC,CAChDC,QAAQ,CAAE,CAAEN,GAAG,CAAEC,UAAU,CAACN,QAAQ,CAAC,CAAEO,GAAG,CAAED,UAAU,CAACL,SAAS,CAAE,CAAC,CACnEW,GAAG,CAAEpB,WAAW,CAACK,OAAO,CACxBgB,KAAK,IAAAC,MAAA,CAAKxB,MAAM,CAACQ,QAAQ,CAACiB,UAAU,QAAAD,MAAA,CAAMxB,MAAM,CAACQ,QAAQ,CAACC,QAAQ,CAACiB,OAAO,CAAE,CAC5EC,IAAI,CAAE,CACJC,IAAI,CAAEvB,MAAM,CAACC,MAAM,CAACM,IAAI,CAACiB,UAAU,CAACC,MAAM,CAC1CC,KAAK,CAAE,EAAE,CACTC,SAAS,CAAEhC,MAAM,CAACiC,QAAQ,CAAG,SAAS,CAAG,SAAS,CAClDC,WAAW,CAAE,GAAG,CAChBC,WAAW,CAAE,SAAS,CACtBC,YAAY,CAAE,CAChB,CACF,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAhC,MAAM,CAACC,MAAM,CAACM,IAAI,CAAC0B,UAAU,CAAC,CACnDC,OAAO,0HAAAf,MAAA,CAE8CxB,MAAM,CAACQ,QAAQ,CAACiB,UAAU,6GAAAD,MAAA,CAE9CxB,MAAM,CAACiC,QAAQ,CAAG,aAAa,CAAG,WAAW,uHAAAT,MAAA,CAG9CxB,MAAM,CAACQ,QAAQ,CAACgC,KAAK,kHAAAhB,MAAA,CAGlBxB,MAAM,CAACQ,QAAQ,CAACC,QAAQ,CAACiB,OAAO,4CAIrE,CAAC,CAAC,CAEFvB,SAAS,CAACI,OAAO,CAACkC,WAAW,CAAC,OAAO,CAAE,IAAM,CAC3CJ,UAAU,CAACK,IAAI,CAACxC,WAAW,CAACK,OAAO,CAAEJ,SAAS,CAACI,OAAO,CAAC,CACzD,CAAC,CAAC,CAEF;AACA,GAAI,CAAAF,MAAM,CAACC,MAAM,CAACM,IAAI,CAAC+B,SAAS,CAAC,CAC/BC,MAAM,CAAE,CACNC,KAAK,CAAE,OAAO,CACdC,KAAK,CAAE,OAAO,CACdC,IAAI,CAAE,OAAO,CACbC,IAAI,CAAE,OACR,CAAC,CACDb,WAAW,CAAE,SAAS,CACtBc,aAAa,CAAE,GAAG,CAClBb,YAAY,CAAE,CAAC,CACfJ,SAAS,CAAE,SAAS,CACpBE,WAAW,CAAE,GAAG,CAChBZ,GAAG,CAAEpB,WAAW,CAACK,OACnB,CAAC,CAAC,CAEF,MAAO,IAAM,CACX,GAAIJ,SAAS,CAACI,OAAO,CAAE,CACrBJ,SAAS,CAACI,OAAO,CAAC2C,MAAM,CAAC,IAAI,CAAC,CAChC,CACF,CAAC,CACH,CAAC,CAAE,CAAClD,MAAM,CAAC,CAAC,CAEZ,mBACEH,IAAA,QACEsD,GAAG,CAAElD,MAAO,CACZmD,KAAK,CAAE,CACLC,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,OAAO,CACfC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,mBACV,CAAE,CACH,CAAC,CAEN,CAAC,CAED,cAAe,CAAA1D,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}